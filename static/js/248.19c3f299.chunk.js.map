{"version":3,"file":"static/js/248.19c3f299.chunk.js","mappings":"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","sources":["api.js","webpack://goit-react-hw-05-movies/./src/components/listMovies/ListMovies.module.css?a57c","components/listMovies/ListMovies.jsx","webpack://goit-react-hw-05-movies/./src/components/loader/Loader.module.css?198e","components/loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/components/message/Message.module.css?feb3","components/message/Message.jsx","webpack://goit-react-hw-05-movies/./src/pages/moviesPages/MoviesPages.module.css?987c","pages/moviesPages/MoviesPages.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'ca8f7db83e552c6e2e5b39184e2981e9';\n\nexport const fetchTrendingMoviesDay = async () => {\n  const response = await axios.get(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n\nexport const fetchSearchMovies = async (searchQuery, page = 1) => {\n  const response = await axios.get(`${BASE_URL}search/movie`, {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      query: searchQuery,\n      page: page,\n      include_adult: 'false',\n    },\n  });\n  return response.data.results;\n};\n\nexport const fetchMovieById = async id => {\n  const response = await axios.get(`${BASE_URL}movie/${id}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchCast = async id => {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const fetchReviews = async id => {\n  const response = await axios.get(\n    `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`\n  );\n  return response.data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ListMovies_list__-DUZK\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport css from './ListMovies.module.css';\n\nconst ListMovies = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ol className={css.list}>\n      {movies.map(({ id, title }) => {\n        return (\n          <Link state={{ from: location }} key={id} to={`/movies/${id}`}>\n            <li>{title}</li>\n          </Link>\n        );\n      })}\n    </ol>\n  );\n};\nexport default ListMovies;\n\nListMovies.propTypes = {\n  dataTransactions: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__Iv4Mh\"};","import { ColorRing } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={css.loader}>\n      <ColorRing\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n};\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"Message_message__cjLNc\"};","import PropTypes from 'prop-types';\nimport css from './Message.module.css';\n\nconst Message = ({ children }) => {\n  return (\n    <div>\n      <p className={css.message}>{children}</p>\n    </div>\n  );\n};\nexport default Message;\n\nMessage.propTypes = {\n  children: PropTypes.node,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"MoviesPages_searchForm__7dmBU\",\"btn\":\"MoviesPages_btn__15d72\",\"input\":\"MoviesPages_input__ZbJoz\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovies } from 'api.js';\nimport ListMovies from 'components/listMovies';\nimport Message from 'components/message';\nimport Loader from 'components/loader';\n\nimport css from './MoviesPages.module.css';\n\nconst MoviesPages = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n  const [movies, setMovies] = useState([]);\n  const [searchValue, setSearchValue] = useState(searchQuery);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  useEffect(() => {\n    if (searchValue === '' && searchQuery !== '') {\n      setSearchParams({});\n      setMovies([]);\n    }\n  }, [searchValue, setSearchParams, searchQuery]);\n\n  useEffect(() => {\n    if (searchQuery === '') return;\n    setIsLoading(true);\n    async function fetchSearchQuery() {\n      try {\n        const newMovies = await fetchSearchMovies(searchQuery);\n        setMovies(newMovies);\n        setIsError(false);\n      } catch (error) {\n        setIsError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchSearchQuery();\n  }, [searchQuery]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: searchValue.trim() });\n  };\n\n  const status =\n    movies?.length === 0 && searchQuery !== '' && !isError ? true : false;\n  console.log(status);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={css.searchForm}>\n        <input\n          className={css.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          value={searchValue}\n          onChange={e => setSearchValue(e.target.value)}\n        />\n        <button disabled={isLoading} type=\"submit\" className={css.btn}>\n          Search\n        </button>\n      </form>\n      {isLoading && <Loader />}\n      {isError && (\n        <Message>\n          An error occurred, please reload the page or try again later.\n        </Message>\n      )}\n      {movies?.length > 0 && <ListMovies movies={movies} />}\n      {status && <h3>Nothing was found for your request</h3>}\n    </>\n  );\n};\nexport default MoviesPages;\n"],"names":["BASE_URL","API_KEY","fetchTrendingMoviesDay","axios","response","data","results","fetchSearchMovies","searchQuery","page","params","api_key","language","query","include_adult","fetchMovieById","id","fetchCast","fetchReviews","movies","location","useLocation","className","css","map","title","state","from","to","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","children","useSearchParams","searchParams","setSearchParams","get","useState","setMovies","searchValue","setSearchValue","isLoading","setIsLoading","isError","setIsError","useEffect","newMovies","fetchSearchQuery","status","length","console","log","onSubmit","e","preventDefault","trim","type","autoComplete","autoFocus","placeholder","value","onChange","target","disabled"],"sourceRoot":""}